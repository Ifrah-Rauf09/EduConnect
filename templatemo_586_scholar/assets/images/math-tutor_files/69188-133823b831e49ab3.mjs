"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[69188],{873987:(e,l,a)=>{var n;a.r(l),a.d(l,{default:()=>r});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SeoDrawerModalBody_pin",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:n,storageKey:null},{args:null,kind:"FragmentSpread",name:"SeoDrawerOriginalBoardSection_pin"},{args:null,kind:"FragmentSpread",name:"SeoDrawerRelatedInterestsSection_pin"},{args:null,kind:"FragmentSpread",name:"SeoDrawerSocialProofSection_pin"},{args:null,kind:"FragmentSpread",name:"SeoDrawerPinDescriptionSection_pin"},{args:null,kind:"FragmentSpread",name:"SeoDrawerPinCreatorSection_pin"},{args:null,kind:"FragmentSpread",name:"SeoDrawerVideoTranscriptSection_pin"}],type:"Pin",abstractKey:null};i.hash="aee2b123589c22aa5a7c79a8cef61a21";let r=i},893351:(e,l,a)=>{a.r(l),a.d(l,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SeoDrawerModal_pin",selections:[{args:null,kind:"FragmentSpread",name:"SeoDrawerModalBody_pin"}],type:"Pin",abstractKey:null};n.hash="3ba6b0e764752c2c2f31273240b7af30";let i=n},42680:(e,l,a)=>{a.r(l),a.d(l,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SeoDrawerOriginalBoardSection_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sectionCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"boardOrderModifiedAt",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetCoverPhoto_board"}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="e5bc3c07a05b39045be7709e15ac6ce2";let i=n},751088:(e,l,a)=>{a.r(l),a.d(l,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SeoDrawerPinCreatorSection_pin",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetCredits_pin"}],type:"Pin",abstractKey:null};n.hash="ff32c63b36cfb6e813726379ed88e569";let i=n},680168:(e,l,a)=>{var n,i;a.r(l),a.d(l,{default:()=>t});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SeoDrawerPinDescriptionSection_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[n,i={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},i],type:"Pin",abstractKey:null};r.hash="68c95dea8fe801c5626efab274ff8bf7";let t=r},851321:(e,l,a)=>{a.r(l),a.d(l,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SeoDrawerRelatedInterestsSection_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingKlpUrls",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useAnnotationsWithLinksFragment_pin"}],type:"Pin",abstractKey:null};n.hash="a59eadefdcca9e3badfcfa9cec5e7af0";let i=n},399369:(e,l,a)=>{a.r(l),a.d(l,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SeoDrawerSocialProofSection_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shareCount",storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregatedStats",kind:"LinkedField",name:"aggregatedStats",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"saves",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ReactionCountModel",kind:"LinkedField",name:"reactionCountsData",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reactionCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reactionType",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="36b876f1a1fa2f72b1bd6526b5c9d5a4";let i=n},391034:(e,l,a)=>{a.r(l),a.d(l,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SeoDrawerVideoTranscriptSection_pin",selections:[{args:null,kind:"FragmentSpread",name:"useVideoTranscripts_pin"}],type:"Pin",abstractKey:null};n.hash="a0a6e3a296a79ae73318d8fd8015a679";let i=n},822087:(e,l,a)=>{a.r(l),a.d(l,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useAnnotationsWithLinksFragment_pin",selections:[{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,concreteType:"AnnotationsWithLinks",kind:"LinkedField",name:"annotationsWithLinksArray",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="35075da6e1f4b526ac4314727015c44d";let i=n},715898:(e,l,a)=>{var n,i,r,t,s,o;a.r(l),a.d(l,{default:()=>c});let d=(o=[n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetCredits_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},n,{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[n,i,r,t,{alias:null,args:null,kind:"ScalarField",name:"isPrimaryWebsiteVerified",storageKey:null},s],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"creator",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:o,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasProductPins",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null});d.hash="09005664f5bdf7c5c48658ab799a8555";let c=d},575980:(e,l,a)=>{var n;a.r(l),a.d(l,{default:()=>r});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoTranscripts_pin",selections:[{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV4",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"captionsUrls",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:n,storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"blockType",storageKey:null},{alias:null,args:null,concreteType:"StoryPinVideoMetadataFormattedV2",kind:"LinkedField",name:"videoDataV2",plural:!1,selections:[{alias:"videoListMobile",args:[{kind:"Literal",name:"version",value:"V_HLSV3_MOBILE"}],concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:n,storageKey:null}],storageKey:'videoList(version:"V_HLSV3_MOBILE")'}],storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};i.hash="03e719e3e5c381679e63797eb70e804e";let r=i},865706:(e,l,a)=>{a.r(l),a.d(l,{default:()=>d});var n=a(667294),i=a(883119),r=a(107941),t=a(635284),s=a(272109),o=a(785893);function d({_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:l,align:a,allowClickAndDrag:d,allowMediaPlay:c,allowScroll:u,children:g,closeOnOutsideClick:p,footer:m,heading:h,layerZIndex:_,onDismiss:y,role:f,size:k,subHeading:x}){return(0,n.useEffect)(()=>(t.Z.pause(),function(){t.Z.resume()}),[]),(0,o.jsx)(i.mh,{zIndex:_??r.b7,children:(0,o.jsx)(s.Z,{allowClickAndDrag:d,allowEsc:!0,allowMediaPlay:c,allowScroll:u,children:(0,o.jsx)(i.u_,{_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:l,align:a,closeOnOutsideClick:p,footer:m,heading:h,onDismiss:()=>{t.Z.resume(),y()},padding:"none",role:f,size:k,subHeading:x,children:g})})})}},190005:(e,l,a)=>{a.d(l,{Z:()=>d}),a(167912);var n,i=a(384609),r=a(144326);let t=void 0!==n?n:n=a(715898),s=e=>e&&e.includes("/user/default")?void 0:e,o=e=>!!(e.promoter&&!e.isDownstreamPromotion);function d(e,l){let a=(0,r.ZP)(),n=(0,i.Z)(t,e),d=({user:e,linkToBoard:l})=>({link:l?n.board?.url||`/pin/${n.entityId}/`:e?.username&&`/${e.username}/`||"",avatar:s(e?.imageMediumUrl)||s(e?.imageSmallUrl)});if(o(n))return n.sponsorship&&n.promoter?.entityId!==n.nativeCreator?.entityId?{title:n.nativeCreator?.fullName,subtitle:n.promoter?.fullName,...d({user:n.nativeCreator})}:{title:a._('Promoted by', 'Grid pin annotation', 'Grid pin annotation'),subtitle:n.promoter?.fullName,...d({user:n.promoter})};if(n.sponsorship?.creator)return{title:n.nativeCreator?.fullName,subtitle:n.sponsorship.sponsor?.fullName,...d({user:n.nativeCreator})};if(!n.isEligibleForPdp){if(n.nativeCreator)return{title:n.nativeCreator.fullName,subtitle:"",...d({user:n.nativeCreator})};switch(l){case 3375:if(!n.linkDomain?.officialUser?.isPrimaryWebsiteVerified)return;let e=n.storyPinData?.hasProductPins?n.nativeCreator:n.linkDomain.officialUser;return{title:"",subtitle:e?.fullName,...d({user:e})};case 0:case 3173:return n.storyPinData?.hasProductPins?{title:"",subtitle:n.nativeCreator?.fullName,...d({user:n.nativeCreator,linkToBoard:!0})}:{title:n.board&&"protected"===n.board.privacy?a._('Saved by', 'Grid pin annotation', 'Grid pin annotation'):n.pinner?.fullName||"",subtitle:"",...d({user:n.pinner,linkToBoard:!0})};default:return}}}},704344:(e,l,a)=>{a.d(l,{U:()=>i});var n=a(786890);let i=({pinId:e,shoppingKlpUrls:l,pinJoinVisualAnnotation:a,pinJoinAnnotationsWithLinks:i,dedupeVisualAnnotations:r})=>{if(r&&(a=r({pinId:e,visualAnnotations:a})),a.length<1)return[];let{annotationsWithLinks:t}=(0,n.eK)({pinJoinVisualAnnotation:a,pinJoinAnnotationsWithLinks:i});t.map(e=>e.name||"");let s=[...t];return l&&(s=l.reduce((e,l)=>(e.push({name:l.split("/")[2].split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),url:l}),e),s)),s}},617018:(e,l,a)=>{a.d(l,{GF:()=>c,Jx:()=>p,K8:()=>s,LH:()=>d,T3:()=>t,h_:()=>m,oF:()=>o,r:()=>u,wQ:()=>g,yL:()=>r});var n=a(883119),i=a(649818);let r="590px",t="calc(80vh - 60px - 2px)",s=i.C,o=new n.H3([s]),d="rgba(17, 17, 17, 0.03)",c="rgb(241, 241, 241)",u=44,g=44,p=44,m=44},969188:(e,l,a)=>{a.d(l,{w8:()=>eu,uP:()=>ec,ZP:()=>eg});var n,i,r,t,s,o,d,c,u,g=a(667294);a(167912);var p=a(883119),m=a(865706),h=a(384609),_=a(144326),y=a(730212),f=a(410150),k=a(617018),x=a(357013),S=a(936437),b=a(240760),w=a(1006),v=a(154785),P=a(946970),j=a(464099),F=a(785893);let D=void 0!==n?n:n=a(42680),K=({boardId:e,boardPinCount:l,boardSectionCount:a,boardOrderModifiedAt:n})=>{let i=(0,_.ZP)();return(0,F.jsxs)(p.kC,{direction:"row",gap:2,children:[(0,F.jsxs)(p.kC,{direction:"row",children:[(0,F.jsx)(p.xv,{inline:!0,size:"200",children:(0,b.nk)(i.ngettext('{{ boardPinCount }} Pin', '{{ boardPinCount }} Pins', l, 'pin.seoDrawerModal.originalBoardRowPinCount', 'boardPinCount: The number of pins the board has'),{boardPinCount:(0,F.jsx)(x.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:l},e)})}),a>0&&(0,F.jsx)(p.xv,{color:"subtle",size:"200",children:(0,F.jsx)(P.Z,{ariaHidden:!0,size:"200"})}),a>0&&(0,F.jsx)(p.xv,{inline:!0,size:"200",children:(0,b.nk)(i.ngettext('{{ boardSectionCount }} section', '{{ boardSectionCount }} sections', a, 'pin.seoDrawerModal.relatedBoardRowSectionCount', 'boardSectionCount: The number of sections the board has'),{boardSectionCount:(0,F.jsx)(x.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:a},e)})})]}),n&&(0,F.jsx)(p.xv,{color:"subtle",size:"200",children:n})]})},T=({pinkey:e,pinType:l="grid"})=>{let a=(0,_.ZP)(),n=(0,f.ml)(),i=(0,v.Z)(),r=(0,S.Z)(),t=(0,h.Z)(D,e),s=(0,j.Z)(t?.board);if(!t||!t.board)return null;let o=s("grid"===l||"thumbnail"===l?2:4),{entityId:d,name:c,url:u,pinCount:g,sectionCount:m,boardOrderModifiedAt:y}=t.board,x=a._('Board containing this Pin', 'pin.seoDrawerModal.originalBoardSectionHeader', 'Subheader for SEO drawer original board section');return(0,F.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{background:"rgba(17, 17, 17, 0.03)"}},"data-test-id":"seo-drawer-original-board-section",padding:4,rounding:4,children:(0,F.jsxs)(p.kC,{direction:"column",gap:4,children:[(0,F.jsx)(p.X6,{size:n?"300":"400",children:x}),(0,F.jsx)(p.Tg,{href:u?.toLowerCase()||"",onTap:()=>{(0,w.NC)("click_go_to_board"),i({action:"click",item:"seo-drawer-original-board-row"})},tapStyle:"none",children:(0,F.jsxs)(p.kC,{alignItems:"center",direction:"row",gap:2,children:[(0,F.jsx)(p.zd,{height:k.Jx,rounding:2,width:k.h_,children:(0,F.jsx)(p.Ee,{alt:a._('Selected board cover image', 'pin.seoDrawerModal.originalBoardsSection.boardImageCover', 'Board cover image for the selected board filter'),fit:"cover",naturalHeight:k.Jx,naturalWidth:k.h_,src:o})}),(0,F.jsxs)(p.kC,{alignItems:"start",direction:"column",gap:1,children:[(0,F.jsx)(p.xv,{size:"300",weight:"bold",children:c}),(0,F.jsx)(K,{boardId:d,boardOrderModifiedAt:r(y||"",!0),boardPinCount:g||0,boardSectionCount:m||0})]})]})})]})})};var L=a(559028),C=a(190005);let z=void 0!==i?i:i=a(751088),A=({pinkey:e,showNativeCreator:l,viewParameter:a})=>{let n=(0,_.ZP)(),i=(0,f.ml)(),r=(0,v.Z)(),t=(0,h.Z)(z,e),s=(0,C.Z)(t,a);if(!t||!t.pinner)return null;let{pinner:o}=t,d=n._('Creator\'s avatar', 'pin.seoDrawerModal.pinCreatorAvatar', 'The avatar of the creator of this pin.'),c=s?.title||"",u=s?.avatar||"",g=s?.title||s?.subtitle||d,m=o?.username||"",y=o?.fullName||m,x=o?.imageMediumUrl||o?.imageSmallUrl||"",S=`/${o.username?.toLowerCase()||""}/`,b=l?c:m,P=l?c:y,j=l?c:S,D=n._('Pin is from', 'pin.seoDrawerModal.pinCreatorSectionHeader', 'Subheader for SEO drawer pin creator section');return(0,F.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{background:k.LH}},"data-test-id":"seo-drawer-pin-creator-section",padding:4,rounding:4,children:(0,F.jsxs)(p.kC,{direction:"column",gap:4,children:[(0,F.jsx)(p.X6,{size:i?"300":"400",children:D}),(0,F.jsx)(p.Tg,{href:`/${b}/`,onTap:()=>{(0,w.NC)("click_go_to_profile"),r({action:"click",item:"seo-drawer-pin-creator"})},tapStyle:"none",children:(0,F.jsxs)(p.kC,{alignItems:"center",direction:"row",gap:2,children:[(0,F.jsx)(p.zd,{height:k.r,rounding:"circle",width:k.wQ,children:(0,F.jsx)(L.qE,{accessibilityLabel:l?g:y||d,name:j,outline:!1,size:"fit",src:l?u:x})}),(0,F.jsx)(p.kC,{alignItems:"start",direction:"column",gap:1,children:(0,F.jsx)(p.xv,{size:"300",weight:"bold",children:P})})]})})]})})};var M=a(786890);let I=void 0!==r?r:r=a(680168),Z=({onClick:e,testID:l,label:a,bold:n=!0})=>(0,F.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{background:k.GF}},"data-test-id":l,display:"inlineBlock",children:(0,F.jsx)(p.iP,{fullWidth:!1,onTap:e,children:(0,F.jsxs)(p.xv,{inline:!0,size:"300",weight:n?"bold":"normal",children:["...",a]})})}),B=({title:e,description:l})=>(0,F.jsxs)(g.Fragment,{children:[e&&(0,F.jsx)(p.xv,{size:"300",weight:"bold",children:e}),l&&(0,F.jsx)(p.xv,{size:"300",children:l})]}),U=({title:e,description:l,showTitleToggleButton:a,showDescriptionToggleButton:n,toggleExpanded:i})=>{let r=(0, _.ZP)()._('less', 'pin.seoDrawerModal.description.less', 'Toggle less description button');return(0,F.jsxs)(p.xu,{children:[e&&(0,F.jsx)(p.xu,{children:(0,F.jsxs)(p.xv,{size:"300",weight:"bold",children:[e,a&&(0,F.jsx)(Z,{label:r,onClick:i,testID:"less-description-container"})]})}),l&&(0,F.jsx)(p.xu,{children:(0,F.jsxs)(p.xv,{size:"300",children:[l,n&&(0,F.jsx)(Z,{label:r,onClick:i,testID:"less-description-container"})]})})]})},H=({title:e,description:l,titleRef:a,descriptionRef:n,titleLineClamp:i,showTitleToggleButton:r,showDescriptionToggleButton:t,isDescriptionTruncated:s,toggleExpanded:o})=>{let d=(0, _.ZP)()._('more', 'pin.seoDrawerModal.description.more', 'Toggle more description button');return(0,F.jsxs)(p.xu,{children:[e&&(0,F.jsxs)(p.xu,{position:"relative",children:[(0,F.jsx)(p.xu,{overflow:"hidden",children:(0,F.jsx)(p.xv,{ref:a,lineClamp:i,size:"300",weight:"bold",children:e})}),r&&(0,F.jsx)(p.xu,{bottom:!0,position:"absolute",right:!0,children:(0,F.jsx)(Z,{label:d,onClick:o,testID:"more-description-container"})})]}),l&&(0,F.jsxs)(p.xu,{position:"relative",children:[(0,F.jsx)(p.xu,{children:(0,F.jsxs)(p.xv,{ref:n,lineClamp:2,size:"300",children:[l,t&&!s&&(0,F.jsx)(Z,{label:d,onClick:o,testID:"more-description-container"})]})}),t&&s&&(0,F.jsx)(p.xu,{bottom:!0,position:"absolute",right:!0,zIndex:new p.Ry(1),children:(0,F.jsx)(Z,{label:d,onClick:o,testID:"more-description-container"})})]})]})},V=({pinkey:e})=>{let l=(0,_.ZP)(),{isBot:a}=(0,y.B)(),n=(0,h.Z)(I,e),[i,r]=(0,g.useState)(!1),t=(0,v.Z)(),s=(0,M.fs)({pinTitle:n?.title,gridTitle:n?.gridTitle,richSummaryDisplayName:n?.richSummary?.displayName,richMetadataTitle:n?.richMetadata?.title,storyPinDataId:n?.storyPinDataId,storyPinDataMetadataPinTitle:n?.storyPinData?.metadata?.pinTitle}),{description:o}=(0,M.eK)({richMetadataDescription:n?.richMetadata?.description,richSummaryDisplayName:n?.richSummary?.displayName,closeupUnifiedDescription:n?.closeupUnifiedDescription}),d=(0,g.useRef)(null),[c,u]=(0,g.useState)(!1),m=(0,g.useRef)(null),[f,x]=(0,g.useState)(!1);(0,g.useEffect)(()=>{d.current&&u(d.current.scrollHeight>d.current.clientHeight),m.current&&x(m.current.scrollHeight>m.current.clientHeight)},[s,o]);let S=o?1:2,b=c&&!o,w=!!o&&c||f;if(!n||!o&&!s)return null;let P=l._('Description', 'pin.seoDrawerModal.descriptionSectionHeader', 'Subheader for SEO drawer description section');return(0,F.jsxs)(p.xu,{dangerouslySetInlineStyle:{__style:{background:k.LH}},"data-test-id":"seo-drawer-description-section",direction:"column",display:"flex",justifyContent:"center",padding:4,rounding:4,width:"100%",children:[(0,F.jsx)(p.X6,{size:"400",children:P}),(0,F.jsx)(p.xu,{marginTop:4,children:(0,F.jsx)(p.kC,{direction:"column",gap:2,children:a?(0,F.jsx)(B,{description:o,title:s||""}):(0,F.jsx)(p.xu,{children:i?(0,F.jsx)(U,{description:o,showDescriptionToggleButton:w,showTitleToggleButton:b,title:s||"",toggleExpanded:()=>{r(!i),t({action:"click",item:"seo-drawer-description-less"})}}):(0,F.jsx)(H,{description:o,descriptionRef:m,isDescriptionTruncated:f,showDescriptionToggleButton:w,showTitleToggleButton:b,title:s||"",titleLineClamp:S,titleRef:d,toggleExpanded:()=>{r(!i),t({action:"click",item:"seo-drawer-description-more"})}})})})})]})};var E=a(573065),N=a(704344);let O=void 0!==t?t:t=a(851321),G=({vaseTag:e})=>{let[l,a]=(0,g.useState)(!1),n=(0,v.Z)(),{name:i,url:r}=e;return i&&r?(0,F.jsx)(p.xu,{alignItems:"center",color:"secondary","data-test-id":"seo-drawer-vase-tag",display:"flex",height:40,marginEnd:1,marginTop:1,onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),paddingX:3,paddingY:1,rounding:"pill",children:(0,F.jsx)(p.xv,{color:l?"subtle":"default",inline:!0,overflow:"noWrap",size:"200",weight:"bold",children:r?(0,F.jsx)(p.rU,{display:"inlineBlock",href:r,onClick:()=>{n({action:"click",item:"seo-drawer-vase-tag"})},rounding:8,tapStyle:"compress",underline:"hover",children:i}):i})}):null},W=({pinkey:e})=>{let l=(0,_.ZP)(),a=(0,f.ml)(),n=(0,h.Z)(O,e),i=(0,E.Z)(n),r=(0,N.U)({pinId:n.entityId,dedupeVisualAnnotations:null,shoppingKlpUrls:n.pinJoin?.shoppingKlpUrls||[],pinJoinVisualAnnotation:n.pinJoin?.visualAnnotation||[],pinJoinAnnotationsWithLinks:i});if(!r)return null;let t=r.map(e=>({name:e.name,url:e.url})).filter(e=>null!=e.name);if(0===t.length)return null;let s=l._('Related interests', 'pin.seoDrawerModal.relatedInterestsSectionHeader', 'Subheader for SEO drawer related interests section');return(0,F.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{background:k.LH}},"data-test-id":"seo-drawer-related-interests-section",padding:4,rounding:4,children:(0,F.jsxs)(p.kC,{direction:"column",gap:4,children:[(0,F.jsx)(p.X6,{size:a?"300":"400",children:s}),(0,F.jsx)(p.kC,{alignItems:"start",direction:"row",gap:1,wrap:!0,children:t.map(e=>(0,F.jsx)(G,{vaseTag:e},e.name))})]})})},R=void 0!==s?s:s=a(399369),J=({pinId:e,count:l,label:a,pluralLabel:n,extraMarginStart:i})=>{let r=(0,f.ml)();return(0,F.jsxs)(p.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:k.LH}},direction:"column",display:"flex",justifyContent:"center",marginStart:i?r?2:3:void 0,padding:4,rounding:4,width:"100%",children:[(0,F.jsx)(p.xv,{inline:!0,size:r?"300":"400",weight:"bold",children:(0,F.jsx)(x.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:l},e)}),(0,F.jsx)(p.xu,{marginTop:1,children:(0,F.jsx)(p.xv,{inline:!0,size:r?"200":"300",children:l>1?n:a})})]})},X=({pinkey:e,pinType:l,shouldShowNewfields:a})=>{let n=(0,h.Z)(R,e);if(!n||"closeup"===l)return null;let i=n.shareCount||0,r=n.aggregatedPinData?.aggregatedStats?.saves||0,t=n.reactionCountsData?.filter(e=>1===e.reactionType)?.map(e=>e.reactionCount??0)?.reduce((e,l)=>e+l,0)??0;if(0===r&&0===t)return null;let s="klp"===l||a;return(0,F.jsxs)(p.xu,{"data-test-id":"seo-drawer-social-proof-section",direction:"row",display:"flex",width:"100%",children:[r>0&&s&&(0,F.jsx)(J,{count:r,label:"Save",pinId:n.entityId,pluralLabel:"Saves"}),t>0&&a&&(0,F.jsx)(J,{count:t,extraMarginStart:r>0,label:"Like",pinId:n.entityId,pluralLabel:"Likes"}),i>0&&a&&(0,F.jsx)(J,{count:i,extraMarginStart:r>0||t>0,label:"Share",pinId:n.entityId,pluralLabel:"Shares"})]})},$=void 0!==o?o:o=a(575980),Q=async e=>{try{let l=await fetch(e);if(!l.ok)return null;return await l.text()}catch(e){return null}},Y=e=>e?e.split("\n").map(e=>e.trim()).filter(e=>e&&!e.startsWith("WEBVTT")&&!e.match(/^[0-9]+:[0-9]+/)&&!e.match(/^\d+$/)).join(" "):"",q=(e,l)=>{if(!e)return"";let a=l.toLowerCase();return a&&e[a]||Object.values(e)[0]||""},ee=(e,l,a)=>{let n=[];if(l?.pages)return l.pages.forEach(e=>{e.blocks?.forEach(e=>{if(3===e.blockType&&e.videoDataV2?.videoListMobile?.vHLSV3MOBILE?.captionsUrls){let l=q(e.videoDataV2.videoListMobile.vHLSV3MOBILE.captionsUrls,a);l&&n.push(l)}})}),n;if(e){let l=e?.videoList?.vHLSV4?.captionsUrls,i=e?.videoList?.v720P?.captionsUrls,r=q(l||i,a);r&&n.push(r)}return n},el=e=>{let{locale:l}=(0,y.B)(),a=(0,h.Z)($,e),{videos:n,storyPinData:i}=a||{},[r,t]=(0,g.useState)(""),s=(0,g.useMemo)(()=>a?ee(n,i,l):[],[a,n,i,l]);return(0,g.useEffect)(()=>{let e=!0;return a&&s.length>0&&(async()=>{try{let l=(await Promise.all(s.map(Q))).map(Y).join("");e&&t(l)}catch{}})(),()=>{e=!1}},[a,s]),r},ea=void 0!==d?d:d=a(391034),en=({onClick:e,testID:l,label:a,bold:n=!0})=>(0,F.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{background:k.GF}},"data-test-id":l,display:"inlineBlock",children:(0,F.jsx)(p.iP,{fullWidth:!1,onTap:e,children:(0,F.jsxs)(p.xv,{inline:!0,size:"300",weight:n?"bold":"normal",children:["...",a]})})}),ei=({transcript:e,toggleExpanded:l})=>{let a=(0, _.ZP)()._('less', 'pin.seoDrawerModal.transcript.less', 'Toggle less transcript button');return(0,F.jsx)(p.xu,{children:e&&(0,F.jsx)(p.xu,{children:(0,F.jsxs)(p.xv,{size:"300",children:[e,(0,F.jsx)(en,{label:a,onClick:l,testID:"less-transcript-container"})]})})})},er=({transcript:e,transcriptRef:l,isTruncated:a,toggleExpanded:n})=>{let i=(0, _.ZP)()._('more', 'pin.seoDrawerModal.transcript.more', 'Toggle more transcript button');return(0,F.jsx)(p.xu,{children:e&&(0,F.jsxs)(p.xu,{position:"relative",children:[(0,F.jsx)(p.xv,{ref:l,lineClamp:2,size:"300",children:e}),(0,F.jsx)(p.xu,{bottom:!0,position:"absolute",right:!0,children:a&&(0,F.jsx)(en,{label:i,onClick:n,testID:"more-transcript-container"})})]})})},et=({pinkey:e})=>{let l=(0,_.ZP)(),{isBot:a}=(0,y.B)(),n=(0,h.Z)(ea,e),i=el(n),[r,t]=(0,g.useState)(!1),s=(0,v.Z)(),o=(0,f.ml)(),d=(0,g.useRef)(null),[c,u]=(0,g.useState)(!1);if((0,g.useEffect)(()=>{d.current&&u(d.current.scrollHeight>d.current.clientHeight)},[i]),!n||!i)return null;let m=l._('Video transcript', 'pin.seoDrawerModal.videoTranscriptSectionHeader', 'Subheader for SEO drawer video transcript section');return(0,F.jsxs)(p.xu,{dangerouslySetInlineStyle:{__style:{background:k.LH}},"data-test-id":"seo-drawer-transcript-section",direction:"column",display:"flex",justifyContent:"center",padding:4,rounding:4,width:"100%",children:[(0,F.jsx)(p.X6,{size:o?"300":"400",children:m}),(0,F.jsx)(p.xu,{marginTop:4,children:(0,F.jsx)(p.kC,{direction:"column",gap:2,children:a?(0,F.jsx)(p.xv,{size:"300",children:i}):(0,F.jsx)(p.xu,{children:r?(0,F.jsx)(ei,{toggleExpanded:()=>{t(!r),s({action:"click",item:"seo-drawer-transcript-less"})},transcript:i}):(0,F.jsx)(er,{isTruncated:c,toggleExpanded:()=>{t(!r),s({action:"click",item:"seo-drawer-transcript-more"})},transcript:i,transcriptRef:d})})})})]})};var es=a(428270);let eo=void 0!==c?c:c=a(893351),ed=void 0!==u?u:u=a(873987),ec=({closeModal:e,goBack:l,sourceFromMobileModal:a=!1})=>{let n=(0,f.HG)(),i=(0,f.ml)()||a,r=(0,_.ZP)();return(0,F.jsxs)(p.xu,{alignItems:"center","data-test-id":"seo-drawer-modal-header",direction:"row",display:"flex",height:n?"100%":60,justifyContent:"center",position:"relative",width:"100%",children:[l&&(0,F.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"-6px"}},left:!0,marginStart:3,position:"absolute",children:(0,F.jsx)(p.hU,{accessibilityLabel:r._('Go backward', 'pin.seoDrawerModal.backward', 'An < icon to go backward in the modal'),bgColor:"white",icon:"arrow-back",iconColor:"darkGray",onClick:l,size:i?"sm":"lg"})}),(0,F.jsx)(p.X6,{size:i?"300":"600",children:r._('More about this Pin', 'pin.seoDrawerModal.headerTitle', 'header for seo drawer modal')}),(0,F.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{marginTop:i?"-6px":void 0}},"data-test-id":"seo-drawer-modal-close-button",marginEnd:1,position:"absolute",right:!0,children:(0,F.jsx)(p.hU,{accessibilityLabel:r._('Close modal', 'pin.seoDrawerModal.close', 'An X icon to close the modal'),bgColor:"white",icon:"cancel",iconColor:"darkGray",onClick:()=>e(),size:i?"sm":"lg"})})]})},eu=({pinKey:e,pinType:l="feed",shouldShowNewfields:a,trafficSource:n,componentType:i,viewParameter:r})=>{let t=(0,f.HG)(),s=(0,f.ml)(),o=(0,f.Wb)(),d=(0,h.Z)(ed,e),c=(0,es.WG)(l),{showSocialProof:u,showOriginalBoard:g}=(0,es.Hw)(l,a);if(!d)return null;let{pinner:m,nativeCreator:_}=d,y="shop_feed"!==n&&14339!==i&&!!_,k=_?.isVerifiedMerchant||_?.verifiedIdentity?.verified,x=m?.isVerifiedMerchant||m?.verifiedIdentity?.verified,S=y?k:x,b=o&&("feed"===l||"closeup_feed"===l||"board"===l),w=o&&("feed"===l||"closeup_feed"===l)||!S&&t&&"closeup_feed"===l;return(0,F.jsx)(p.xu,{"data-test-id":"seo-drawer-modal-body",marginTop:s?4:void 0,children:(0,F.jsxs)(p.kC,{direction:"column",gap:s?2:3,children:[(0,F.jsx)(X,{pinkey:d,pinType:l,shouldShowNewfields:u}),c&&(0,F.jsx)(et,{pinkey:d}),b&&(0,F.jsx)(V,{pinkey:d}),w&&(0,F.jsx)(A,{pinkey:d,showNativeCreator:y,viewParameter:r}),g&&"board"!==l&&(0,F.jsx)(T,{pinkey:d,pinType:l}),(0,F.jsx)(W,{pinkey:d})]})})};function eg({onClose:e=()=>{},...l}){let{pinKey:a,pinType:n,shouldShowNewfields:i,trafficSource:r,componentType:t,viewParameter:s,renderHiddenlyForBots:o}=l,{isBot:d}=(0,y.B)(),c=(0,_.ZP)(),u=(0,f.ml)(),x=(0,h.Z)(eo,a);return x?(0,F.jsxs)(g.Fragment,{children:[d&&(0,F.jsxs)(p.xu,{"data-test-id":"seo-drawer-modal",display:"visuallyHidden",children:[(0,F.jsx)(ec,{closeModal:e}),(0,F.jsx)(eu,{componentType:t,pinKey:x,pinType:n,shouldShowNewfields:i,trafficSource:r})]}),!o&&(0,F.jsx)(m.default,{accessibilityModalLabel:c._('More about this Pin', 'pin.seoDrawerModal.accessibilityModalLabel', 'accessiblilty modal label for seo drawer modal'),align:"center",heading:(0,F.jsx)(ec,{closeModal:e}),layerZIndex:k.oF,onDismiss:e,padding:"none",role:"dialog",size:"sm",children:(0,F.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"24px"}},"data-test-id":"seo-drawer-modal",maxHeight:u?k.T3:k.yL,overflow:"scrollY",paddingX:6,children:(0,F.jsx)(eu,{componentType:t,pinKey:x,pinType:n,shouldShowNewfields:i,trafficSource:r,viewParameter:s})})})]}):null}},428270:(e,l,a)=>{a.d(l,{Hw:()=>o,WG:()=>s,to:()=>t});var n=a(297728),i=a(730212),r=a(410150);let t=()=>{let{checkExperiment:e}=(0,n.F)(),l=(0,r.HG)(),{isBot:a,isAuthenticated:t}=(0,i.B)();if(t)return{shouldShowSeoDrawerOption:!1,shouldShowSeoDrawerNewfields:!1};let s=e("ffe_seo_drawer_for_klp").anyEnabled,o=!!e("ffe_seo_drawer_for_klp").group,d=l&&!a&&!o&&e("unauth_dweb_seo_drawer_for_klp").anyEnabled,c=!l&&!a&&!o&&e("unauth_mweb_seo_drawer_for_klp").anyEnabled;return{shouldShowSeoDrawerOption:s||d||c,shouldShowSeoDrawerNewfields:!0}},s=e=>{let{checkExperiment:l}=(0,n.F)(),{isAuthenticated:a}=(0,i.B)();return!a&&("closeup"===e?"enabled_main_pin"===l("ffe_video_transcript_for_closeup").group:"closeup_feed"===e&&"enabled_pin_feed"===l("ffe_video_transcript_for_closeup").group)},o=(e,l)=>{let a=(0,r.HG)(),{isBot:t}=(0,i.B)(),{checkExperiment:s}=(0,n.F)();if("closeup"!==e&&"closeup_feed"!==e)return{showSocialProof:l,showOriginalBoard:l};let o=s("ffe_simplify_seo_drawer",{dangerouslySkipActivation:!0}).group,d=!!o,c=!d&&a&&!t&&s("unauth_dweb_simplify_seo_drawer",{dangerouslySkipActivation:!0}).group,u=!d&&!a&&!t&&s("unauth_mweb_simplify_seo_drawer",{dangerouslySkipActivation:!0}).group,g=o||c||u;return{showSocialProof:"enabled_remove_social_proof"!==g&&"enabled_remove_all"!==g,showOriginalBoard:"enabled_remove_all"!==g}}},573065:(e,l,a)=>{a.d(l,{Z:()=>s});var n,i=a(667294);a(167912);var r=a(384609);let t=void 0!==n?n:n=a(822087),s=e=>{let l=(0,r.Z)(t,e),a=l?.pinJoin?.annotationsWithLinksArray;return(0,i.useMemo)(()=>a?.reduce((e,{name:l,url:a})=>l?{...e,[l]:{name:l,url:a}}:e,{}),[a])}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/69188-133823b831e49ab3.mjs.map